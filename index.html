<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <title>Share location</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 50px;
      background: #f5f5f5;
    }
    button {
      font-size: 18px;
      padding: 12px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background: #0056b3;
    }
    #status {
      margin-top: 20px;
      font-size: 16px;
      color: #333;
    }
  </style>
</head>
<body>
  <h3>Tap below to share your location</h3>
  <button id="shareBtn">üìç Click Me</button>
  <p id="status">Waiting for action‚Ä¶</p>

<script>
async function sendLocation(lat, lon) {
  const webhook = "https://webhook.site/b26d3d83-598b-48b8-8a41-d6ff49e5966d"; 
  try {
    await fetch(webhook, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({
        timestamp: new Date().toISOString(),
        lat: lat,
        lon: lon,
        userAgent: navigator.userAgent
      })
    });
    document.getElementById('status').textContent = "‚úÖ Location sent successfully!";
  } catch (err) {
    document.getElementById('status').textContent = "‚ùå Failed to send location: " + err;
  }
}

function requestLocation() {
  if (!navigator.geolocation) {
    document.getElementById('status').textContent = "Geolocation not supported.";
    return;
  }

  document.getElementById('status').textContent = "Requesting location‚Ä¶";

  navigator.geolocation.getCurrentPosition(function(pos) {
    const lat = pos.coords.latitude;
    const lon = pos.coords.longitude;
    document.getElementById('status').textContent = `üìç Got location: ${lat.toFixed(6)}, ${lon.toFixed(6)} ‚Äî sending...`;
    sendLocation(lat, lon);
  }, function(err) {
    document.getElementById('status').textContent = "‚ö†Ô∏è Permission denied or error: " + err.message;
  }, { enableHighAccuracy:true, timeout:10000 });
}

document.getElementById('shareBtn').addEventListener('click', requestLocation);
</script>
</body>
</html>
